buildInfo:
  github_repo_name: {{github_repo_name}}
  ecr_repo_name: {{ecr_repo_name}}
app:
  image: {{app_image}}
  tag: {{app_image_tag}}
  port: 8080
  monitoringPort: 9096
  livenessProbe: /actuator/health/liveness
  readinessProbe: /actuator/health/readiness
replicaCount: {{replica_count}}
dns:
  nameservers:
    {%- for nameserver in dns.nameservers %}

    - {{ nameserver }}
    {%- endfor %}

  searches:
    {%- for search in dns.searches %}

    - {{ search }}
    {%- endfor %}

podmonitor:
  endpoints:
    - honor_labels: true
      interval: 10s
      path: /actuator/prometheus

env:
  plaintext:
    KAFKA_BROKER_SERVICE_URL: '{% for kafka_ip in kafka_ips %}{{kafka_ip}}:{{kafka_port}}{% if not loop.last %},{% endif %}{% endfor %}'
    SAP_CLIENT_ID: {{sap_client_id}}
    SPRING_PROFILES_ACTIVE: prod
    JAVA_TOOL_OPTIONS: '{{default_java_flags}}'
    BOM_JSON_BUCKET: {{sap_raw_bom_bucket_location}}
    KAFKA_ENABLED: {{kafka_enabled|default(true)}}
    AWS_REGION: {{aws_region}}
  secret:
    SAP_HOST: {{sap_host}}
    SAP_USER: {{sap_user}}
    SAP_PASSWORD: {{sap_password}}
resources:
  requests:
    cpu: 50m
    memory: 316Mi
  limits:
    memory: 1Gi
service:
  port: 80
