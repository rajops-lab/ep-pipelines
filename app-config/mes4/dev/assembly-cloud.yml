buildInfo:
  github_repo_name: {{github_repo_name}}
  ecr_repo_name: {{ecr_repo_name}}
app:
  image: {{app_image}}
  tag: {{app_image_tag}}
  port: 8080
  monitoringPort: 8080
  livenessProbe: /actuator/health/liveness
  readinessProbe: /actuator/health/readiness
env:
  plaintext:
    DB_USER: {{assembly_cloud_db_username}}
    DB_HOST: {{rds_host}}
    DB_PORT: {{rds_port}}
    DB_NAME: {{assembly_cloud_db}}
    DB_NAME_TEST: {{assembly_cloud_db}}
    KAFKA_BROKER_SERVICE_URL: '{% for kafka_ip in kafka_ips %}{{kafka_ip}}:{{kafka_port}}{% if not loop.last %},{% endif %}{% endfor %}'
  secret:
    DB_PASSWORD: {{assembly_cloud_db_password}}
replicaCount: 1
resources:
  requests:
    cpu: 50m
    memory: 316Mi
  limits:
    memory: 512Mi
service:
  port: 80
kong:
  image: {{kong_configure_image}}
  tag: {{kong_configure_image_tag}}
  services:
    - name: assembly-cloud
      service_path: /
      routes:
        paths:
          - /assembly-cloud
        strip_path: "true"
